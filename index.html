<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drogarias Ultra Popular - Pedidos</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background-color: #f8f9fa; color: #333; padding-bottom: 40px; }
        .header { background-color: #E63946; color: white; padding: 20px; text-align: center; }
        .header img { height: 60px; margin-bottom: 10px; border-radius: 5px; }
        .container { max-width: 900px; margin: 0 auto; padding: 15px; }
        .section-title { font-size: 19px; font-weight: 700; margin: 25px 0 10px 0; color: #1a1a1a; border-left: 5px solid #E63946; padding-left: 12px; }
        
        /* Carrosséis */
        .carousel-wrapper { position: relative; margin-bottom: 10px; }
        .carousel { display: flex; overflow-x: auto; gap: 15px; padding: 10px 5px; scroll-behavior: smooth; }
        .carousel::-webkit-scrollbar { height: 6px; }
        .carousel::-webkit-scrollbar-thumb { background: #E63946; border-radius: 10px; }

        .product-card { flex: 0 0 240px; background: white; border-radius: 10px; padding: 15px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); display: flex; flex-direction: column; justify-content: space-between; border: 1px solid #eee; }
        .product-image { width: 100%; height: 120px; object-fit: contain; margin-bottom: 10px; }
        .product-name { font-size: 14px; font-weight: 600; height: 40px; overflow: hidden; margin-bottom: 5px; }
        .product-price { font-size: 17px; font-weight: 800; color: #E63946; margin-bottom: 10px; }

        .label-small { font-size: 11px; font-weight: 700; color: #777; margin-bottom: 3px; display: block; }
        .input-mini { width: 100%; padding: 7px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 13px; }

        .quantity-control { display: flex; align-items: center; gap: 10px; margin-bottom: 10px; }
        .quantity-btn { width: 35px; height: 35px; border: 1px solid #E63946; background: white; color: #E63946; border-radius: 5px; font-weight: bold; cursor: pointer; }
        .quantity-display { flex: 1; text-align: center; font-weight: 700; font-size: 16px; }
        .add-btn { width: 100%; padding: 10px; background: #E63946; color: white; border: none; border-radius: 5px; font-size: 13px; font-weight: 700; cursor: pointer; }

        /* Formulário Fotos */
        .form-card { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); margin-top: 25px; }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-group { margin-bottom: 15px; }
        label { display: block; font-size: 14px; font-weight: 600; margin-bottom: 5px; }
        input, select, textarea { width: 100%; padding: 12px; border: 1px solid #ced4da; border-radius: 6px; font-size: 15px; }
        
        .cart-preview { background: #fff; padding: 15px; border-radius: 8px; border-left: 5px solid #E63946; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .total-row { display: flex; justify-content: space-between; font-size: 20px; font-weight: 800; color: #E63946; margin-top: 10px; border-top: 1px solid #eee; padding-top: 10px; }
        .submit-btn { width: 100%; padding: 18px; background: #25D366; color: white; border: none; border-radius: 8px; font-weight: 700; font-size: 17px; cursor: pointer; margin-top: 10px; }

        @media (max-width: 600px) { .form-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>

    <div class="header">
        <img src="https://ultrapopularrio.github.io/Tempreco/img/LogoUltraPopular.jpg" alt="Logo">
        <h1>Monte seu pedido agora</h1>
    </div>

    <div class="container">
        
        <div class="section-title">Fraldas e Higiene do Bebê</div>
        <div class="carousel-wrapper">
            <div class="carousel">
                <!-- Fralda Babysec Ultra Hiper -->
                <div class="product-card" data-price="59.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/imLGpuFoPvGDiFal.jpg" class="product-image">
                    <div class="product-name">Fralda Babysec Ultra Hiper</div>
                    <div class="product-price">R$ 59,99</div>
                    <label class="label-small">Tamanho:</label>
                    <select class="input-mini"><option>M</option><option>G</option><option>XG</option><option>XXG</option></select>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Fralda Babysec Ultra Hiper')">CONFIRMAR</button>
                </div>
                <!-- Fralda Babysec Ultra Mega -->
                <div class="product-card" data-price="32.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/qZzjZQkBFordEVnX.jpg" class="product-image">
                    <div class="product-name">Fralda Babysec Ultra Mega</div>
                    <div class="product-price">R$ 32,99</div>
                    <label class="label-small">Tamanho:</label>
                    <select class="input-mini"><option>M</option><option>G</option><option>XG</option></select>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Fralda Babysec Ultra Mega')">CONFIRMAR</button>
                </div>
                <!-- Toalha Umedecida Bebê Limpinho -->
                <div class="product-card" data-price="7.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/BGFYngzZcIzZpTzi.jpg" class="product-image">
                    <div class="product-name">Toalha Umedecida Bebê Limpinho</div>
                    <div class="product-price">R$ 7,99</div>
                    <div style="height: 52px;"></div>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Toalha Umedecida Bebê Limpinho')">CONFIRMAR</button>
                </div>
                <!-- Refil Sabonete Granado Bebê 250ml -->
                <div class="product-card" data-price="14.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/ickiUfopEAXdKsCQ.jpg" class="product-image">
                    <div class="product-name">Refil Sabonete Granado Bebê 250ml</div>
                    <div class="product-price">R$ 14,99</div>
                    <div style="height: 52px;"></div>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Refil Sabonete Granado Bebê 250ml')">CONFIRMAR</button>
                </div>
                <!-- Nistatina + Óxido de Zinco Neo Química -->
                <div class="product-card" data-price="7.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/ylhsOVmCEbRGdygq.jpg" class="product-image">
                    <div class="product-name">Nistatina + Óxido de Zinco Neo Química</div>
                    <div class="product-price">R$ 7,99</div>
                    <div style="height: 52px;"></div>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Nistatina + Óxido de Zinco Neo Química')">CONFIRMAR</button>
                </div>
            </div>
        </div>

        <div class="section-title">Leites e Mucilon</div>
        <div class="carousel-wrapper">
            <div class="carousel">
                <!-- Mucilon Sachê 360g -->
                <div class="product-card" data-price="32.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/PhxmWbBmeYIWiWUG.png" class="product-image">
                    <div class="product-name">Mucilon Sachê 360g</div>
                    <div class="product-price">R$ 32,99</div>
                    <label class="label-small">Sabor:</label>
                    <select class="input-mini"><option>Arroz</option><option>Milho</option><option>Multicereais</option></select>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Mucilon Sachê 360g')">CONFIRMAR</button>
                </div>
                <!-- Leite Ninho Integral Lata 380g -->
                <div class="product-card" data-price="17.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/nyPVEcXeJmsPteMz.jpeg" class="product-image">
                    <div class="product-name">Leite Ninho Integral Lata 380g</div>
                    <div class="product-price">R$ 17,99</div>
                    <div style="height: 52px;"></div>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Leite Ninho Integral Lata 380g')">CONFIRMAR</button>
                </div>
                <!-- Ninho Fases 1+ 800g -->
                <div class="product-card" data-price="42.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/WTDWJLjxzoNNNhVk.jpg" class="product-image">
                    <div class="product-name">Ninho Fases 1+ 800g</div>
                    <div class="product-price">R$ 42,99</div>
                    <div style="height: 52px;"></div>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Ninho Fases 1+ 800g')">CONFIRMAR</button>
                </div>
                <!-- Aptamil Premium 1 800g -->
                <div class="product-card" data-price="57.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/XpRbVhHqcciKMUrE.jpg" class="product-image">
                    <div class="product-name">Aptamil Premium 1 800g</div>
                    <div class="product-price">R$ 57,99</div>
                    <div style="height: 52px;"></div>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Aptamil Premium 1 800g')">CONFIRMAR</button>
                </div>
                <!-- Aptamil Premium 2 800g -->
                <div class="product-card" data-price="57.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/uJmfKQuIHugWkDQq.webp" class="product-image">
                    <div class="product-name">Aptamil Premium 2 800g</div>
                    <div class="product-price">R$ 57,99</div>
                    <div style="height: 52px;"></div>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Aptamil Premium 2 800g')">CONFIRMAR</button>
                </div>
            </div>
        </div>

        <div class="section-title">Outros Produtos</div>
        <div class="carousel-wrapper">
            <div class="carousel">
                <!-- Repelente OFF Locação Family 200ml -->
                <div class="product-card" data-price="14.99">
                    <img src="https://files.manuscdn.com/user_upload_by_module/session_file/310419663028364164/NDRpuUAZmGOQMMPF.jpg" class="product-image">
                    <div class="product-name">Repelente OFF Locação Family 200ml</div>
                    <div class="product-price">R$ 14,99</div>
                    <div style="height: 52px;"></div>
                    <div class="quantity-control"><button class="quantity-btn" onclick="changeQty(this, -1)">-</button><div class="quantity-display">0</div><button class="quantity-btn" onclick="changeQty(this, 1)">+</button></div>
                    <button class="add-btn" onclick="confirmItem(this, 'Repelente OFF Locação Family 200ml')">CONFIRMAR</button>
                </div>
            </div>
        </div>

        <div class="section-title">Resumo do Pedido</div>
        <div class="cart-preview">
            <div id="cart-list" style="font-size: 14px; color: #555;">Nenhum produto confirmado...</div>
            <div class="total-row">
                <span>Total Estimado:</span>
                <span id="display-total">R$ 0,00</span>
            </div>
        </div>

        <div class="form-card">
            <h3>Dados para Entrega e Pagamento</h3>
            <form onsubmit="sendWhatsApp(event)">
                <div class="form-group">
                    <label>Escolha a loja mais próxima *</label>
                    <select id="store" required>
                        <option value="">Selecione uma loja</option>
                        <option value="5521968450574|Vasco - Belford Roxo">Ultra Vasco - Belford Roxo</option>
                        <option value="5521968450574|Lote XV - Belford Roxo">Ultra Lote XV - Belford Roxo</option>
                        <option value="5521993202884|Primavera - Caxias">Ultra Primavera - Caxias</option>
                        <option value="5521976488682|Gramacho - Caxias">Ultra Jardim Gramacho - Caxias</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Nome Completo *</label>
                    <input type="text" id="cust-name" required>
                </div>
                <div class="form-group">
                    <label>Telefone / WhatsApp *</label>
                    <input type="text" id="cust-tel" required placeholder="(XX) XXXXX-XXXX">
                </div>
                <div class="form-grid">
                    <div class="form-group"><label>Rua / Avenida *</label><input type="text" id="cust-street" required></div>
                    <div class="form-group"><label>Número *</label><input type="text" id="cust-num" required></div>
                    <div class="form-group"><label>Complemento (Opcional)</label><input type="text" id="cust-comp" placeholder="Apto, Bloco, Casa"></div>
                    <div class="form-group"><label>Bairro *</label><input type="text" id="cust-bairro" required></div>
                </div>
                <div class="form-group">
                    <label>Ponto de Referência (Opcional)</label>
                    <input type="text" id="cust-ref">
                </div>
                <div class="form-group">
                    <label>Quer incluir algum produto que não está na lista? (Opcional)</label>
                    <textarea id="extra-items" rows="3" placeholder="Ex: 2x Novalgina 1g"></textarea>
                    <small style="color: #666; font-style: italic;">Obs: A disponibilidade e o preço destes itens serão confirmados via WhatsApp.</small>
                </div>
                <div class="form-group">
                    <label>Forma de Pagamento *</label>
                    <select id="cust-pay" required>
                        <option value="">Selecione a forma de pagamento</option>
                        <option>Dinheiro</option><option>Cartão (Maquininha)</option><option>Pix</option>
                    </select>
                </div>
                <button type="submit" class="submit-btn">ENVIAR PEDIDO VIA WHATSAPP</button>
            </form>
        </div>
    </div>

    <script>
        let cart = [];

        function changeQty(btn, delta) {
            const display = btn.parentElement.querySelector('.quantity-display');
            let val = parseInt(display.textContent) + delta;
            if (val < 0) val = 0;
            display.textContent = val;
            updateTotal();
        }

        function confirmItem(btn, name) {
            const card = btn.closest('.product-card');
            const qty = parseInt(card.querySelector('.quantity-display').textContent);
            const price = parseFloat(card.dataset.price);
            const size = card.querySelector('.input-mini') ? card.querySelector('.input-mini').value : '';

            if (qty === 0) return alert("Selecione a quantidade primeiro!");

            cart.push({ name: name + (size ? " (" + size + ")" : ""), price: price, qty: qty });
            card.querySelector('.quantity-display').textContent = "0"; 
            renderCart();
            updateTotal();
        }

        function renderCart() {
            const list = document.getElementById('cart-list');
            if (cart.length === 0) { list.innerHTML = "Nenhum produto confirmado..."; return; }
            list.innerHTML = cart.map(i => `<div>✅ ${i.qty}x ${i.name}</div>`).join('');
        }

        function updateTotal() {
            let total = 0;
            cart.forEach(item => total += item.price * item.qty);
            document.querySelectorAll('.product-card').forEach(card => {
                const qty = parseInt(card.querySelector('.quantity-display').textContent);
                if (qty > 0) total += parseFloat(card.dataset.price) * qty;
            });
            document.getElementById('display-total').textContent = `R$ ${total.toFixed(2).replace('.', ',')}`;
        }

        function sendWhatsApp(e) {
            e.preventDefault();
            const store = document.getElementById('store').value.split('|');
            const extra = document.getElementById('extra-items').value;
            if (cart.length === 0 && !extra) return alert("Adicione itens ou descreva o que deseja nos extras!");

            let texto = `*NOVO PEDIDO - ULTRA POPULAR*\n*Loja:* ${store[1]}\n*Cliente:* ${document.getElementById('cust-name').value}\n\n*ITENS:*\n`;
            cart.forEach(i => texto += `• ${i.qty}x ${i.name}\n`);
            if(extra) texto += `\n*EXTRAS:* ${extra}\n`;
            
            texto += `\n*ENDEREÇO:* ${document.getElementById('cust-street').value}, ${document.getElementById('cust-num').value}`;
            texto += `\n*BAIRRO:* ${document.getElementById('cust-bairro').value}`;
            texto += `\n*PAGAMENTO:* ${document.getElementById('cust-pay').value}`;

            window.open(`https://wa.me/${store[0]}?text=${encodeURIComponent(texto)}`);
        }
    </script>
</body>
</html>
